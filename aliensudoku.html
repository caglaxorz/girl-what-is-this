<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WINGDING SUDOKU</title>
    <style>
        :root {
            --bg-color: #e0e0e0;
            --grid-line: #000;
            --cell-bg: #fff;
            --highlight: #b3d9ff;
            --selected: #0078d7;
            --error: #ffcccc;
            --text-color: #000;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            user-select: none;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* --- THE BOARD --- */
        .sudoku-container {
            position: relative;
            border: 4px solid var(--grid-line);
            display: grid;
            grid-template-columns: repeat(9, 1fr);
            grid-template-rows: repeat(9, 1fr);
            width: 450px;
            height: 450px;
            background: var(--cell-bg);
            box-shadow: 10px 10px 0px rgba(0,0,0,0.2);
        }

        .cell {
            border: 1px solid #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: background 0.1s;
        }

        /* Thicker Borders for 3x3 Boxes */
        .cell:nth-child(3n) { border-right: 2px solid var(--grid-line); }
        .cell:nth-child(9n) { border-right: none; } /* Edge fix */
        
        /* Row Borders (handled via class injection in JS or nth-child logic) */
        /* CSS Grid gap approach is cleaner but let's do nth-child for single file sanity */
        .cell.bottom-border { border-bottom: 2px solid var(--grid-line); }

        .cell.selected {
            background-color: var(--selected) !important;
            color: white;
        }

        .cell.highlight {
            background-color: var(--highlight);
        }

        .cell.fixed {
            font-weight: bold;
            background-color: #f0f0f0;
            cursor: default;
            color: #333;
        }

        .cell.error {
            background-color: var(--error);
            animation: shake 0.3s;
        }

        /* --- CONTROLS --- */
        .controls {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .palette {
            display: flex;
            gap: 10px;
        }

        .symbol-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #333;
            background: #fff;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 2px 2px 0 #000;
        }
        
        .symbol-btn:active {
            transform: translate(2px, 2px);
            box-shadow: 0 0 0;
        }

        .btn-group {
            display: flex;
            gap: 20px;
        }

        button.action-btn {
            padding: 10px 20px;
            font-family: inherit;
            font-weight: bold;
            background: #ccc;
            border: 2px outset #fff;
            cursor: pointer;
        }
        button.action-btn:active { border-style: inset; }

        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }

        /* Win Message */
        #win-msg {
            display: none;
            margin-top: 10px;
            color: green;
            font-weight: bold;
            font-size: 1.2rem;
        }

    </style>
</head>
<body>

        <!-- Go Back Button - Include in all subpages -->
        <style>
        .go-back-container {
            position: fixed;
            top: 6px;
            left: 6px;
            z-index: 10001;
            font-family: 'Comic Sans MS', 'Comic Neue', cursive;
        }
        .go-back-button {
            background-color: #fff;
            border: 2px solid #4a0072;
            box-shadow: 4px 4px 0px 0px rgba(74, 0, 114, 0.15);
            padding: 8px 16px;
            font-weight: bold;
            font-size: 1.15rem;
            cursor: pointer;
            transition: all 0.15s;
            border-radius: 0;
            color: #4a0072;
        }
        .go-back-button:hover {
            transform: translateY(-2px);
            box-shadow: 4px 6px 0px 0px rgba(74, 0, 114, 0.18);
        }
        .go-back-button:active {
            background-color: #f7e6fb;
            transform: translateY(1px);
            box-shadow: 2px 2px 0px 0px rgba(74, 0, 114, 0.12);
        }
        </style>
        <div class="go-back-container">
            <button class="go-back-button" onclick="window.location.href='/'">Go Back</button>
        </div>
<!-- Menu Bar - Include this in all subpages -->
<style>
  .menu-bar-container {
    position: fixed;
    top: 6px;
    right: 6px;
    z-index: 10000;
    font-family: 'Comic Sans MS', 'Comic Neue', cursive;
    color: #4a0072; /* dark purple */
  }

  .menu-button {
    background-color: #fff;
    border: 2px solid #4a0072;
    box-shadow: 4px 4px 0px 0px rgba(74, 0, 114, 0.15);
    padding: 8px 16px;
    font-weight: bold;
    font-size: 1.15rem;
    cursor: pointer;
    transition: all 0.15s;
    border-radius: 0;
    color: #4a0072;
  }

  .menu-button:hover {
    transform: translateY(-2px);
    box-shadow: 4px 6px 0px 0px rgba(74, 0, 114, 0.18);
  }

  .menu-button:active {
    background-color: #f7e6fb;
    transform: translateY(1px);
    box-shadow: 2px 2px 0px 0px rgba(74, 0, 114, 0.12);
  }

  .menu-dropdown {
    position: absolute;
    top: 56px;
    right: 0;
    width: 280px;
    background-color: #fff4fb;
    border: 3px double #f0e6ff;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.16);
    padding: 12px;
    max-height: 72vh;
    overflow-y: auto;
    display: none;
  }

  .menu-dropdown.open {
    display: block;
  }

  .menu-title {
    text-align: center;
    font-weight: bold;
    border-bottom: 2px dashed #e6d0f0;
    padding-bottom: 8px;
    margin-bottom: 8px;
    color: #4a0072;
  }

  .menu-list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .menu-item {
    display: block;
  }

  .menu-link {
    display: block;
    padding: 6px 4px;
    border: 1px solid transparent;
    cursor: pointer;
    text-decoration: none;
    color: #4a0072;
    transition: all 0.12s;
    font-family: 'Comic Sans MS', 'Comic Neue', cursive;
  }

  .menu-link:hover {
    background-color: #fff;
    border: 1px solid #f0c6eb;
  }

  .menu-emoji {
    display: inline-block;
    margin-right: 8px;
  }

  .menu-title-text {
    text-decoration: underline;
    text-decoration-style: wavy;
    text-decoration-color: #4a0072;
  }

  /* Scrollbar styling */
  .menu-dropdown::-webkit-scrollbar {
    width: 8px;
  }

  .menu-dropdown::-webkit-scrollbar-track {
    background: #fff4fb;
  }

  .menu-dropdown::-webkit-scrollbar-thumb {
    background: #d8a3e0;
    border-radius: 4px;
  }

  .menu-dropdown::-webkit-scrollbar-thumb:hover {
    background: #c985d6;
  }
</style>

<div class="menu-bar-container">
  <button class="menu-button" id="menuToggle">MENU ‚ò∞</button>
  <div class="menu-dropdown" id="menuDropdown">
    <div class="menu-title">i made these!!!</div>
    <ul class="menu-list" id="menuList"></ul>
  </div>
</div>

<script>
  // Menu data ‚Äî ensure URLs match current filenames in repo
  const projects = [
      { title: "Alien Sudoku", url: "/aliensudoku.html", emoji: "üëΩ" },
      { title: "Hayƒ±rlƒ± Olsun Reaffirmer", url: "/hayirliolsun.html", emoji: "üßø" },
      { title: "I'm Baby", url: "/imbaby.html", emoji: "üçº" },
      { title: "Shower Thoughts", url: "/showerthoughts.html", emoji: "üõÅ" },
      { title: "Which SP9K Girl Are You?", url: "/sp9k.html", emoji: "üëß" },
    { title: 'Husband Finder', url: '/husband-finder.html', emoji: 'üíç' },
    { title: 'Hangi Manifest Kƒ±zƒ±sƒ±n?', url: '/hangimanifest.html', emoji: 'üîÆ' },
    { title: 'Particularly', url: '/particularly.html', emoji: '‚ú®' },
    { title: 'Page in a Page', url: '/page-in-page.html', emoji: 'üï∏Ô∏è' },
    { title: 'Which 2003 Lyric Are U?', url: '/2003lyrics.html', emoji: 'üé§' },
    { title: '‚ú®Anket Defteri‚ú®', url: '/anketdefteri.html', emoji: 'üìî' },
    { title: 'Betrayal Calculator', url: '/oneofyou.html', emoji: 'üêç' },
    { title: 'What Color is the Flag?', url: '/redflag.html', emoji: 'üö©' },
    { title: '√áBS Simulator', url: '/thecrunch.html', emoji: 'üìà' },
    { title: 'Anti-Productivity App', url: '/thevoid.html', emoji: 'üï≥Ô∏è' },
    { title: '√áBS Paint', url: '/mspaint.html', emoji: 'üé®' },
    { title: 'Catch the Frog', url: '/thefrog.html', emoji: 'üê∏' },
    { title: 'Follow the White Rabbit', url: '/rabbit.html', emoji: 'üêá' },
    { title: 'The Prophecy', url: '/theorb.html', emoji: 'üîÆ' },
    { title: 'Scream into the Void', url: '/scream.html', emoji: 'üò±' },
    { title: 'Ice Ice Baby', url: '/icecube.html', emoji: 'üßä' },
    { title: 'Excuse Generator', url: '/excusegen.html', emoji: 'ü§•' },
    { title: 'The Sorting Ceremony', url: '/hogwarts.html', emoji: 'üé©' },
    { title: 'Past Life Registry', url: '/pastliferegistry.html', emoji: 'üìú' },
    { title: 'Startup Generator', url: '/startupgen.html', emoji: 'üöÄ' },
    { title: 'Is It Tuesday?', url: '/tuesday.html', emoji: 'üìÖ' },

  ];

  const menuToggle = document.getElementById('menuToggle');
  const menuDropdown = document.getElementById('menuDropdown');
  const menuList = document.getElementById('menuList');

  // Populate menu
  projects.forEach(project => {
    const li = document.createElement('li');
    li.className = 'menu-item';
    li.innerHTML = `
      <a href="${project.url}" class="menu-link">
        <span class="menu-emoji">${project.emoji}</span>
        <span class="menu-title-text">${project.title}</span>
      </a>
    `;
    menuList.appendChild(li);
  });

  // Toggle menu
  menuToggle.addEventListener('click', () => {
    menuDropdown.classList.toggle('open');
    menuToggle.textContent = menuDropdown.classList.contains('open') ? 'CLOSE [X]' : 'MENU ‚ò∞';
  });

  // Close menu when clicking a link
  document.querySelectorAll('.menu-link').forEach(link => {
    link.addEventListener('click', () => {
      menuDropdown.classList.remove('open');
      menuToggle.textContent = 'MENU ‚ò∞';
    });
  });

  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.menu-bar-container')) {
      menuDropdown.classList.remove('open');
      menuToggle.textContent = 'MENU ‚ò∞';
    }
  });
</script>


    <h1>Wingding Sudoku</h1>
    
    <div id="board" class="sudoku-container"></div>

    <div class="controls">
        <div class="palette" id="palette">
            <!-- Symbols injected by JS -->
        </div>
        
        <div class="btn-group">
            <button class="action-btn" onclick="newGame()">New Game</button>
            <button class="action-btn" onclick="clearSelection()">Clear Cell</button>
        </div>

        <div id="win-msg">YOU CRACKED THE CODE ‚úàÔ∏è</div>
    </div>

    <script>
        // The "Numbers" 1-9
        const SYMBOLS = ['‚úÇ', '‚úà', '‚úâ', '‚úå', '‚úè', '‚òÄ', '‚ùÑ', 'üí£', '‚ò†'];
        
        let solutionBoard = [];
        let playerBoard = [];
        let selectedCellIndex = -1;

        const boardEl = document.getElementById('board');
        const paletteEl = document.getElementById('palette');
        const winMsg = document.getElementById('win-msg');

        // --- INIT UI ---
        function initUI() {
            // Create Grid
            boardEl.innerHTML = '';
            for (let i = 0; i < 81; i++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                // Add bottom borders for visual separation of 3x3
                const row = Math.floor(i / 9);
                if (row === 2 || row === 5) {
                    cell.classList.add('bottom-border');
                }
                
                cell.dataset.index = i;
                cell.addEventListener('click', () => selectCell(i));
                boardEl.appendChild(cell);
            }

            // Create Palette
            paletteEl.innerHTML = '';
            SYMBOLS.forEach((sym, idx) => {
                const btn = document.createElement('div');
                btn.classList.add('symbol-btn');
                btn.innerText = sym;
                btn.addEventListener('click', () => fillCell(idx + 1));
                paletteEl.appendChild(btn);
            });
        }

        // --- GAME LOGIC ---

        function newGame() {
            winMsg.style.display = 'none';
            solutionBoard = generateValidSudoku();
            // Create puzzle by masking ~40-50 cells
            playerBoard = [...solutionBoard].map(val => (Math.random() > 0.45) ? 0 : val);
            
            renderBoard();
            selectedCellIndex = -1;
        }

        function renderBoard() {
            const cells = document.querySelectorAll('.cell');
            cells.forEach((cell, i) => {
                cell.className = 'cell'; // Reset classes
                const row = Math.floor(i / 9);
                if (row === 2 || row === 5) cell.classList.add('bottom-border');

                const val = playerBoard[i];
                
                if (val !== 0) {
                    cell.innerText = SYMBOLS[val - 1];
                    // If this was pre-filled (part of initial state), lock it
                    // NOTE: In a real app we'd track "initial" state vs "current". 
                    // For this simple version, we assume if it's there on render init, it's fixed.
                    // To do this properly, let's assume we store "fixed" indices.
                } else {
                    cell.innerText = '';
                }
            });
            
            // Re-mark fixed cells (Logic shortcut: Logic relies on checking against solutionBoard for validity)
            // Actually, let's just mark the ones that match playerBoard at start as fixed
            // For simplicity in this single-file, we'll mark them as we generate.
        }

        // --- SUDOKU GENERATOR (Backtracking) ---
        function generateValidSudoku() {
            const board = new Array(81).fill(0);
            
            function isValid(board, num, pos) {
                const r = Math.floor(pos / 9);
                const c = pos % 9;
                
                // Row
                for (let i = 0; i < 9; i++) {
                    if (board[r * 9 + i] === num && i !== c) return false;
                }
                // Col
                for (let i = 0; i < 9; i++) {
                    if (board[i * 9 + c] === num && i !== r) return false;
                }
                // Box
                const boxR = Math.floor(r / 3) * 3;
                const boxC = Math.floor(c / 3) * 3;
                for (let i = 0; i < 3; i++) {
                    for (let j = 0; j < 3; j++) {
                        if (board[(boxR + i) * 9 + (boxC + j)] === num && (boxR + i) * 9 + (boxC + j) !== pos) return false;
                    }
                }
                return true;
            }

            function solve(board) {
                for (let i = 0; i < 81; i++) {
                    if (board[i] === 0) {
                        const nums = [1,2,3,4,5,6,7,8,9].sort(() => Math.random() - 0.5); // Shuffle for randomness
                        for (let num of nums) {
                            if (isValid(board, num, i)) {
                                board[i] = num;
                                if (solve(board)) return true;
                                board[i] = 0;
                            }
                        }
                        return false;
                    }
                }
                return true;
            }

            solve(board);
            return board;
        }

        // --- INTERACTION ---
        
        // Track which cells were part of the initial puzzle
        let initialMask = [];

        function newGame() {
            winMsg.style.display = 'none';
            solutionBoard = generateValidSudoku();
            playerBoard = new Array(81).fill(0);
            initialMask = new Array(81).fill(false);

            // Hide random cells
            for(let i=0; i<81; i++) {
                if(Math.random() > 0.5) { // Difficulty factor
                    playerBoard[i] = solutionBoard[i];
                    initialMask[i] = true; // This is a fixed cell
                } else {
                    playerBoard[i] = 0;
                }
            }
            
            // Render
            const cells = document.querySelectorAll('.cell');
            cells.forEach((cell, i) => {
                cell.classList.remove('selected', 'fixed', 'error', 'highlight');
                cell.innerText = '';
                
                if (playerBoard[i] !== 0) {
                    cell.innerText = SYMBOLS[playerBoard[i] - 1];
                    cell.classList.add('fixed');
                }
            });
            selectedCellIndex = -1;
        }

        function selectCell(index) {
            // Can't select fixed cells
            if (initialMask[index]) return;

            const cells = document.querySelectorAll('.cell');
            
            // Clear previous selection
            if (selectedCellIndex !== -1) {
                cells[selectedCellIndex].classList.remove('selected');
            }
            
            selectedCellIndex = index;
            cells[index].classList.add('selected');
            
            // Optional: Highlight all cells with same symbol (visual aid)
            // Not implemented for simplicity/difficulty
        }

        function fillCell(val) {
            if (selectedCellIndex === -1) return;
            if (initialMask[selectedCellIndex]) return;

            const cell = document.querySelectorAll('.cell')[selectedCellIndex];
            
            playerBoard[selectedCellIndex] = val;
            cell.innerText = SYMBOLS[val - 1];

            // Check correctness immediately (Visual Feedback)
            if (val !== solutionBoard[selectedCellIndex]) {
                cell.classList.add('error');
            } else {
                cell.classList.remove('error');
            }

            checkWin();
        }

        function clearSelection() {
            if (selectedCellIndex === -1) return;
            if (initialMask[selectedCellIndex]) return;

            const cell = document.querySelectorAll('.cell')[selectedCellIndex];
            playerBoard[selectedCellIndex] = 0;
            cell.innerText = '';
            cell.classList.remove('error');
        }

        function checkWin() {
            // Check if player board matches solution
            // We only need to check if board is full AND no errors.
            // But strict check against solution array is easiest.
            let isFull = true;
            let isCorrect = true;

            for(let i=0; i<81; i++) {
                if(playerBoard[i] === 0) isFull = false;
                if(playerBoard[i] !== solutionBoard[i]) isCorrect = false;
            }

            if (isFull && isCorrect) {
                winMsg.style.display = 'block';
            }
        }

        // Keypad support
        document.addEventListener('keydown', (e) => {
            if (e.key >= '1' && e.key <= '9') {
                fillCell(parseInt(e.key));
            }
            if (e.key === 'Backspace' || e.key === 'Delete') {
                clearSelection();
            }
        });

        // Initialize
        initUI();
        newGame();

    </script>
</body>
</html>